<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
    <title>Exercise 2: Creating the JournalEntry class and property</title>
    <link rel="stylesheet" type="text/css" href="./res/styles/normalize.css">
    <link rel="stylesheet" type="text/css" href="./res/styles/prettify.css" />
    <link rel="stylesheet" type="text/css" href="./res/styles/styles.css">
</head>

<body>
    <!-- Use the same title as the StartHere -->
    <header>Learning C# with Xamarin: Building a Console Application</header>

   	<section id="main">

		<h1 id="page-title"></h1>

		<h2>Duration</h2>
		<p>10 minutes</p>

		<!-- - - - - - - - - Goals - - - - - - - - -->
		<h2 id="goals">Lab goals</h2>
		<p>
            You are now going to add a <code>JournalEntry</code> class to the application. The <code>JournalEntry</code> class is 
            responsible for storing the text and last edit time of the entry. You will then create a property
            in the <code>Journal</code> class of type <code>JournalEntry</code>. Note that the application will only be able to hold one journal entry
            because we haven't learned what collections are. In the future we will be able to add multiple entries.
		</p>
		<p>
			To complete this exercise, you will perform the following steps:
		</p>

		<ol>
			<li>
				Create a new class called <code>JournalEntry</code>.
			</li>
			<li>
				Inside of <code>JournalEntry</code> create an auto-implemented property of type <code>DateTime</code>, and a string property for the text.
			</li>
			<li>
				Inside the <code>Journal</code> class, create a <code>JournalEntry</code> property.
			</li>
		</ol>



		<!-- - - - - - - - - Steps - - - - - - - - -->
		<h1>Steps</h1>


		<h2>Create the JournalEntry class</h2>
		<p>
			First, you will create a <code>JournalEntry</code> class with two properties for text and last edit time.
		</p>
		<ol>
			<li>
                Create a new class called <code>JournalEntry</code>. You can create a new class by right clicking on your project and navigating to Add -> Class.
			</li>

			<li>
				Add an auto-implemented property of type <code>DateTime</code> called <code>LastEditTime</code>.
			</li>
            <li>
                Add an standard property of type <code>string</code> called <code>Text</code>. Remember that you will have to create
                the backing field yourself.
            </li>
		    <li>
                Everytime the <code>Text</code> property changes you should update the <code>LastEditTime</code> property. Use the expression <code>DateTime.Now</code>
                to get the current date and time.
                <pre class="codeblock prettyprint">
LastEditTime = DateTime.Now;
</pre>
           </li>
		</ol>
		<p>
			<a href="#" onclick="toggleCode(this, 'entry'); return false;" class="uiitem">Show Code</a><div id="entry" style="display:none;">
<pre class="prettyprint">
class JournalEntry
{
     private string text;
     public string Text
     {
         get
         {
             return text;
         }
         set
         {
             text = value;
             LastEditTime = DateTime.Now;
         }
     }
     public DateTime LastEditTime { get; set; } 
}

</pre>
			</div>
		</p>
		<h2>Add a JournalEntry property</h2>
		<p>
			Next, you will create a <code>JournalEntry</code> property inside of the <code>Journal</code> class. Once again, our <code>Journal</code>
            is only able to store a single entry. In the future we could fix this by using collections.
		</p>
		<ol>
			<li>
				Open the <b>Journal.cs</b> file.
			</li>
			<li>
				Create a read only property of type <code>JournalEntry</code> and call it <code>Entry</code>. This is a standard property so you will have to
                create a backing field yourself.
			</li>

			<li>
				Our journal is going to be password protected, so we only want the user to be able to see the entry if the journal has been unlocked.
                In the get accessor of the property, check to see if the journal is unlocked. If it is unlocked, return the actual journal entry and if it's not,
                return null.
			</li>

		</ol>
		<p>
			<a href="#" onclick="toggleCode(this, 'callMethod'); return false;" class="uiitem">Show Code</a><div id="callMethod" style="display:none;">
<pre class="prettyprint">
private JournalEntry entry = new JournalEntry();
public JournalEntry Entry
{
     get
     {
          if (journalUnlocked)
               return entry;
          else
               return null;
     }
}
</pre>
			</div>
		</p>
		
           <p>
               If you try running the application nothing has changed visually.
           </p>

		<!-- - - - - - - - - Summary - - - - - - - - -->
		<h1>Summary</h1>
		<p>
			In this lab exercise, you create a new <code>JournalEntry</code> class to manage the state of the entry itself. You also saw how properties can
            be a flexible tool for controlling access to a field.
		</p>
		<div class="align-right">
			<a href="../Start%20Here.html">Go Back</a>
		</div>
	</section>

    <script src="./res/js/jquery.min.js"></script>
    <script src="./res/js/prettify.js"></script>
    <script src="./res/js/script.js"></script>

    <footer>Copyright (C) 2018 Xamarin Inc., Microsoft.</footer>
</body>
</html>
